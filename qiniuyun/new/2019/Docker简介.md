---
author: 南宫乘风
categories:
- 技术记录
date: 2019-10-26 09:26:28
description: 目录介绍优点虚拟机缺点容器和虚拟机产生的目的就是解决以下问题的用途镜像容器仓库介绍是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的镜像中，然后发布到任何流行的或机器上，也可。。。。。。。
image: http://image.ownit.top/4kdongman/80.jpg
tags:
- 技术记录
title: Docker简介
---

<!--more-->

 

**目录**

 

[Docker介绍](#Docker%E4%BB%8B%E7%BB%8D)

[Docker优点](#Docker%E4%BC%98%E7%82%B9)

[虚拟机缺点](#%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BC%BA%E7%82%B9)

[容器和虚拟机](#%E5%AE%B9%E5%99%A8%E5%92%8C%E8%99%9A%E6%8B%9F%E6%9C%BA)

[Docker产生的目的就是解决以下问题](#Docker%E4%BA%A7%E7%94%9F%E7%9A%84%E7%9B%AE%E7%9A%84%E5%B0%B1%E6%98%AF%E8%A7%A3%E5%86%B3%E4%BB%A5%E4%B8%8B%E9%97%AE%E9%A2%98)

[Docker的用途](#Docker%E7%9A%84%E7%94%A8%E9%80%94)

[Docker镜像](#Docker%E9%95%9C%E5%83%8F)

[Docker容器](#Docker%E5%AE%B9%E5%99%A8)

[仓库](#%E4%BB%93%E5%BA%93)

---

## Docker介绍

Docker 是一个**开源**的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个**可移植的镜像**中，然后发布到任何流行的 **Linux**或**Windows** 机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口。

## Docker优点

> - **灵活**：即使是复杂的应用程序也可封装。
> - **轻量级**：容器利用并共享主机内核。
> - **便携式**：您可以在本地构建，部署到云上并在任何地方运行。
> - **可扩展性**：您可以增加和自动分发容器副本。
> - **可堆叠**：您可以垂直堆叠服务并及时并及时堆叠服务。

## 虚拟机缺点

> - **资源占用多：**虚拟机会独占一部分内存和硬盘空间。它运行的时候，其他程序就不能使用这些资源了。哪怕虚拟机里面的应用程序，真正使用的内存只有1M，虚拟机依然需要几百MB的内容才能运行。
> - **冗余步骤多：**虚拟机是完整的操作系统，一些系统级别的操作步骤，往往无法跳过，比如用户登录。
> - **启动慢：**启动操作系统需要多久，启动虚拟机就需要多久。可能要等几分钟，应用陈故乡才能真正运行。

## 容器和虚拟机

> 一个容器中运行原生Linux和共享主机与其它容器的内核，它**运行一个独立的进程**，**不占用任何其它可执行文件的内存**，使其轻量化。
> 
> 相比之下，虚拟机\(VM\)运行一个完整的“客户”操作系统，通过虚拟机管理程序虚拟访问主机资源。一般来说，虚拟机提供的环境比大多数应用程序需要的资源多

![](http://image.ownit.top/csdn/20191026091838731.png)

## Docker产生的目的就是解决以下问题

> 1.  **环境管理复杂**：从各种OS到各个中间件再到各种App,一款产品能够成功发布，作为开发者需要关心的东西太多，且难于管理，这个问题在软件兴业中普遍存在并需要直接面对。Docker可以简化部署多种应用实例工作，比如Web应用、后台应用、数据库应用、大数据应用比如Hadoop集群、消息队列等等都可以打包成一个image部署。
> 2.  **云时代的到来**：AWS的成功，引到开发者将应用转移到云上，解决来硬件管理的问题，然而软件配置和管理香瓜的问题依然存在。Docker的出现正好能帮助软件开发着开阔思路，尝试新的软件管理的方法解决这个问题。
> 3.  虚拟化手段的变化：云时代采用标配硬件来降低成本，采用虚拟化手段来满足用户按需分配的资源需求以及保证可用性和隔离性。然而无论是KVM还是Xen，在Docker看来都是在浪费资源，又难于管理，更加轻量级大LXC更加灵活和快速：
> 4.  **LXC的便携性**：LXC在Linux 2.6的Kernel里就已经存在了，但是其设计之初并非为云计算考虑，缺少标准化的描述手段和容器的可便携性，决定其构建出的环境难于分发和标准化管理\(相对于KVM之类的image和sanpshot的概念\)。Docker就在这个问题上作出了实质性的创新方法。

## Docker的用途

Docker的主要用途，目前又三大类：

> - **提供了一次性的环境：**比如，本地测试他人的软件、持续集成的时候提供单元测试和构建的环境。
> - **提供弹性的云服务：**因为Docker容器可以随开随关，很适合动态扩容和所容。
> - **组建微服务架构：**通过多个容器，一台机器可以跑多个服务，因此在本机就可以模拟出微服务架构。

## Docker镜像

> 操作系统分为**内核**和**用户空间**，对于Linux而言，内核启动后，会挂载root文件系统为其提供用户空间支持。而Docker镜像\(Image\),就相当于是一个root文件系统。
> Docker镜像是一个特殊的文件系统，除了提供容器运行时所需的程序、库、资源、配置等文件外，还包含了一些为运行时准备的一些配置参数\(如匿名卷、环境变量、用户等\)。镜像不包含任何动态数据，其内容在构建之后也不会被改变。

## Docker容器

> 镜像\(image\)和容器\(container\)的关系，就像是面向对象程序设计中的类和实例一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动、停止、删除、暂停等。  
> 容器的实质是进程，但与直接在宿主执行的进程不同，容器进程运行于属于自己的独立的命名空间。因此容器可以拥有自己的root文件系统、自己的网络配置、自己的进程空间，甚至自己的用户ID空间。容器内的进程是运行在一个隔离的环境里，使用起来，就好像是在一个独立宿主的系统下操作一样。这种特性使容器封装的应用比直接在宿主运行更加安全。  
> 前面讲过镜像使用的是分层储存，容器也是如此。每一个容器运行时，是以镜像为基础层，在其上创建一个当前容器的存储层，可以称这个味容器运行时读写而准备的存储层为容器存储层。  
> 容器存储层的生存周期和容器一样，容器消亡时，容器存储层也随之消亡。因此，任何保存于容器存储层的信息都会随容器删除而丢失。  
> 按照Docker最佳实践的要求，容器不应该向其存储层写入任何数据，容器存储层要保持无状态化。所有的文件写入操作，都应该使用数据卷\(volume\)、或者绑定宿主目录，在这些位置的读写会跳过存储层，直接对宿主\(或网络存储\)发生读写，其性能和稳定性更高。  
> 数据卷的生存周期独立于容器，容器消亡，数据卷不会消亡。因此，使用数据卷后，容器删除或者重新运行之后，数据却不会丢失。

## 仓库

> 镜像构建完成后，可以很容易的在当前宿主机上运行，但是，如果需要在其它服务器上使用这个镜像，我们就需要一个集中的存储、分发镜像的服务，Docker Registry就是这样的服务。  
> 一个Docker Registry中可以包含多个仓库\(Repository\);每个仓库可以包含多个标签\(tag\)；每个标签对应一个镜像。  
> 通常，一个仓库会包含一个软件不同版本的镜像，而标签就常用于对应该软件的各个版本。我们可以通过\<仓库名>:\<标签>的格式来指定具体是这个软件那个版本的镜像。如果不给出标签，将以laest作为默认标签。  
> 以ubuntu镜像为例，ubuntu是仓库的名字，其包含有不同的版本标签，如，14.04,16.04。我们可以通过ubuntu:14.04或者ubuntu:16.04来具体指定所需要哪个版本的镜像。如果忽略了标签，比如ubuntu,那将视为ubuntu:latest。  
> 仓库名经常以两段式路径形式出现，比如jwilder/nginx-proxy,前者意味着Docker Registry多用户环境下的用户名，后者则往往是对应的软件名。但这并非绝对，取决于所使用的具体Docker Registry的软件或服务。U和内存的利用率。

### 企业级

**新浪**

![](http://image.ownit.top/csdn/20191209082503437.png)

**美团**

 

**蘑**![](http://image.ownit.top/csdn/20191209082527708.png)**菇街**

![](http://image.ownit.top/csdn/20191209081543803.png)

## 去哪下

### 1、官网

**docker官网：http://www.docker.com**

![](http://image.ownit.top/csdn/2019120908175383.png)

**docker中文网站：https://www.docker-cn.com/**

### 2、仓库

**Docker Hub官网: https://hub.docker.com/**

![](http://image.ownit.top/csdn/20191209081817426.png)